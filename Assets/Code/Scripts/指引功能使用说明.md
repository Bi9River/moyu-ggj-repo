# 指引功能使用说明

## 概述

指引功能在玩家到达特定地点前，屏蔽跳跃(Space)和 M 键。当玩家进入对应的 Collider 区域时，会显示按键 UI 并解锁该功能。

## 快速设置

### 1. 添加 InputGuideManager

在场景中创建一个空物体（如命名为 `InputGuideManager`），添加 `InputGuideManager` 组件。

- 建议放在 GameManager 同级或作为 GameManager 的子物体，确保场景加载时存在
- 若需跨场景保留，可将 `DontDestroyOnLoad` 已在脚本中处理

### 2. 创建指引区域（跳跃）

1. 在需要引导跳跃的位置创建空物体
2. 添加 **Box Collider**（或 Sphere Collider），勾选 **Is Trigger**
3. 添加 `GuideTriggerZone` 组件
4. 配置：
   - **Guide Type** = Jump
   - **Key Label** = "Space"（或自定义）
   - （可选）**Guide UI Object** = 拖入显示按键提示的 UI 对象

### 3. 创建指引区域（M 键）

同上，但 **Guide Type** 选择 **MaskKey**，**Key Label** 设为 "M"。

### 4. 指引 UI（可选）

若要显示按键提示：

- 创建一个 UI 元素（如 UnityEngine.UI.Text）
- 在 `GuideTriggerZone` 的 **Guide UI Object** 中引用该 UI
- 进入区域时会显示，离开或解锁后可隐藏

## 参数说明

### InputGuideManager

| 参数 | 说明 |
|------|------|
| Jump Unlocked At Start | 游戏开始时跳跃是否已解锁（通常为 false） |
| Mask Key Unlocked At Start | 游戏开始时 M 键是否已解锁（通常为 false） |

### GuideTriggerZone

| 参数 | 说明 |
|------|------|
| Guide Type | Jump 或 MaskKey，决定解锁的功能 |
| Guide UI Object | 进入区域时显示的 UI（可为空） |
| Key Label | 显示的按键文本，如 "Space"、"M" |
| Hide UI After Unlock | 解锁后是否隐藏 UI |
| Hide UI On Exit | 离开区域时是否隐藏 UI |

## 注意事项

1. 玩家必须有 `Player` 标签，触发器才会生效
2. Collider 必须勾选 **Is Trigger**
3. InputGuideManager 需存在于场景中，否则解锁逻辑不生效
4. 若 GameManager 使用 `playerPrefab` 生成玩家，需确保 InputGuideManager 在玩家生成前已存在
